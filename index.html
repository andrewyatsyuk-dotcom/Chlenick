<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçÜ –í–ò–†–û–©–£–í–ê–ß –ß–õ–ï–ù–ê 1000—Å–º</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            background: linear-gradient(180deg, #1a001a, #330033);
            color: #ffccff;
            font-family: 'Press Start 2P', cursive;
            text-align: center;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            image-rendering: pixelated;
        }
        h1 {
            font-size: 2.8em;
            text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff;
            margin: 10px 0 5px;
        }
        .subtitle {
            font-size: 1.1em;
            color: #ff99ff;
            margin-bottom: 20px;
        }
        #game {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(0,0,0,0.6);
            border: 8px solid #ff00aa;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 0 50px #ff00ff;
        }
        #length {
            font-size: 3.5em;
            color: #ffff00;
            text-shadow: 0 0 15px #ffff00;
            margin: 15px 0;
        }
        progress {
            width: 90%;
            height: 35px;
            accent-color: #ff00ff;
            border: 4px solid #ff99ff;
        }
        canvas {
            background: #110022;
            border: 6px solid #ff00aa;
            border-radius: 15px;
            margin: 25px auto;
            box-shadow: 0 0 40px #ff00ff;
            image-rendering: crisp-edges;
        }
        .actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            max-width: 620px;
            margin: 0 auto;
        }
        button {
            background: linear-gradient(#ff3399, #cc0066);
            color: white;
            border: 6px solid #ffff00;
            border-radius: 15px;
            padding: 18px 10px;
            font-family: 'Press Start 2P', cursive;
            font-size: 1.15em;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 8px 0 #990033;
        }
        button:active {
            transform: translateY(6px);
            box-shadow: 0 2px 0 #990033;
        }
        button:disabled {
            background: #555;
            border-color: #777;
            color: #aaa;
            cursor: not-allowed;
        }
        .cd {
            font-size: 0.85em;
            color: #ffff99;
            margin-top: 8px;
            display: block;
        }
        .info {
            margin: 25px 0 10px;
            font-size: 1.1em;
            color: #ffccff;
        }
        #win-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 100;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .modal-content {
            background: #220033;
            border: 10px solid #ff00ff;
            padding: 40px 50px;
            text-align: center;
            box-shadow: 0 0 60px #ff00ff;
            max-width: 90%;
        }
        .modal-content h2 {
            font-size: 2.5em;
            color: #ffff00;
            text-shadow: 0 0 20px #ffff00;
        }
        .reset-btn {
            margin-top: 30px;
            background: #990033;
            padding: 12px 30px;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <div id="game">
        <h1>üçÜ –í–ò–†–û–©–£–í–ê–ß –ß–õ–ï–ù–ê</h1>
        <div class="subtitle">–≤—ñ–¥ 0 –¥–æ 1000 —Å–º —É –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –±–æ—Ç—ñ</div>
        
        <div class="info">–ü–æ—Ç–æ—á–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞:</div>
        <div id="length">0.0 —Å–º</div>
        
        <progress id="progress" value="0" max="1000"></progress>
        
        <canvas id="canvas" width="320" height="520"></canvas>
        
        <div class="actions">
            <button id="btn-pump">
                üí¶ –ü–Ü–î–ö–ê–ß–ê–¢–ò<br>
                <span style="font-size:0.8em">+50 —Å–º</span><br>
                <span class="cd" id="cd-pump">–ì–æ—Ç–æ–≤–æ!</span>
            </button>
            
            <button id="btn-shave">
                ü™í –ü–û–ë–†–ò–¢–ò<br>
                <span style="font-size:0.8em">+20 —Å–º</span><br>
                <span class="cd" id="cd-shave">–ì–æ—Ç–æ–≤–æ!</span>
            </button>
            
            <button id="btn-massage">
                üñêÔ∏è –ú–ê–°–ê–ñ–£–í–ê–¢–ò<br>
                <span style="font-size:0.8em">+3 —Å–º</span><br>
                <span class="cd" id="cd-massage">–ì–æ—Ç–æ–≤–æ!</span>
            </button>
            
            <button id="btn-exercise">
                üèãÔ∏è –¢–†–ï–ù–£–í–ê–¢–ò<br>
                <span style="font-size:0.8em">+8 —Å–º</span><br>
                <span class="cd" id="cd-exercise">–ì–æ—Ç–æ–≤–æ!</span>
            </button>
        </div>
        
        <button class="reset-btn" onclick="resetGame()">–°–ö–ò–ù–£–¢–ò –ì–†–£</button>
    </div>

    <!-- WIN MODAL -->
    <div id="win-modal">
        <div class="modal-content">
            <h2>üéâ –ß–ï–ú–ü–Ü–û–ù! üéâ</h2>
            <p style="font-size:1.4em; margin:20px 0;">–¢–≤—ñ–π —á–ª–µ–Ω –¥–æ—Å—è–≥–Ω—É–≤<br><span style="color:#ffff00; font-size:1.6em;">1000 –°–ú!!!</span></p>
            <p>–¢–∏ ‚Äî –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–∏–π –≤–∏—Ä–æ—â—É–≤–∞—á –±–æ—Ç–∞ üçÜüèÜ</p>
            <button onclick="closeWin()" style="margin-top:25px; padding:18px 40px; font-size:1.3em;">–ü–†–û–î–û–í–ñ–ò–¢–ò –†–û–°–¢–ò (—â–µ –±—ñ–ª—å—à–µ!)</button>
        </div>
    </div>

    <script>
        let currentLength = 0;
        let lastSave = Date.now();
        const PASSIVE_PER_HOUR = 0.4; // –ø—Ä–∏—Ä–æ–¥–Ω–∏–π —Ä—ñ—Å—Ç –±–æ—Ç–∞

        const actions = {
            pump: { cooldown: 4 * 3600 * 1000, boost: 50, lastTime: 0, name: "pump" },
            shave: { cooldown: 24 * 3600 * 1000, boost: 20, lastTime: 0, name: "shave" },
            massage: { cooldown: 30 * 60 * 1000, boost: 3, lastTime: 0, name: "massage" },
            exercise: { cooldown: 60 * 60 * 1000, boost: 8, lastTime: 0, name: "exercise" }
        };

        function loadGame() {
            const saved = localStorage.getItem("dickGrower2025");
            if (saved) {
                const data = JSON.parse(saved);
                currentLength = parseFloat(data.length) || 0;
                lastSave = data.lastSave || Date.now();
                
                Object.keys(actions).forEach(key => {
                    if (data[key + "Last"] !== undefined) {
                        actions[key].lastTime = data[key + "Last"];
                    }
                });

                // –û—Ñ–ª–∞–π–Ω-—Ä—ñ—Å—Ç
                const now = Date.now();
                const hoursOffline = (now - lastSave) / (1000 * 3600);
                currentLength += hoursOffline * PASSIVE_PER_HOUR;
            }
        }

        function saveGame() {
            const data = {
                length: currentLength,
                lastSave: Date.now()
            };
            Object.keys(actions).forEach(key => {
                data[key + "Last"] = actions[key].lastTime;
            });
            localStorage.setItem("dickGrower2025", JSON.stringify(data));
        }

        function performAction(key) {
            const action = actions[key];
            const now = Date.now();
            
            if (now - action.lastTime < action.cooldown) {
                alert("‚è≥ –©–µ —Ä–∞–Ω–æ! –ó–∞—á–µ–∫–∞–π, –ø–æ–∫–∏ –±–æ—Ç –≤—ñ–¥–Ω–æ–≤–∏—Ç—å—Å—è.");
                return;
            }
            
            currentLength += action.boost;
            action.lastTime = now;
            
            saveGame();
            updateUI();
            drawPenis();
            checkWin();
        }

        function getRemaining(key) {
            const action = actions[key];
            return Math.max(0, action.cooldown - (Date.now() - action.lastTime));
        }

        function formatTime(ms) {
            if (ms <= 0) return "–ì–æ—Ç–æ–≤–æ!";
            const h = Math.floor(ms / 3600000);
            const m = Math.floor((ms % 3600000) / 60000);
            const s = Math.floor((ms % 60000) / 1000);
            if (h > 0) return `${h}–≥ ${m}—Ö–≤`;
            if (m > 0) return `${m}—Ö–≤ ${s}—Å`;
            return `${s}—Å`;
        }

        function updateCooldowns() {
            Object.keys(actions).forEach(key => {
                const rem = getRemaining(key);
                const el = document.getElementById(`cd-${key}`);
                if (el) el.textContent = formatTime(rem);
            });
        }

        function updateUI() {
            const lenEl = document.getElementById("length");
            lenEl.textContent = currentLength.toFixed(1) + " —Å–º";
            
            const prog = document.getElementById("progress");
            prog.value = Math.min(currentLength, 1000);
        }

        function checkWin() {
            if (currentLength >= 1000) {
                document.getElementById("win-modal").style.display = "flex";
            }
        }

        function closeWin() {
            document.getElementById("win-modal").style.display = "none";
        }

        function drawPenis() {
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, 320, 520);

            const maxH = 410;
            let height = 80 + Math.min((currentLength / 1000) * maxH, maxH);
            const width = 48 + (currentLength / 1000) * 22;
            const x = 160;

            // –Ø–π—Ü—è
            ctx.fillStyle = "#4a2c1a";
            ctx.beginPath();
            ctx.ellipse(x - 38, 465, 32, 28, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(x + 38, 465, 32, 28, 0, 0, Math.PI * 2);
            ctx.fill();

            // –°—Ç–æ–≤–±—É—Ä
            ctx.fillStyle = "#e8a070";
            ctx.fillRect(x - width/2, 460 - height, width, height);

            // –í–µ–Ω–∏
            ctx.strokeStyle = "#c66a40";
            ctx.lineWidth = 7;
            ctx.beginPath();
            ctx.moveTo(x - 12, 460 - height + 60);
            ctx.quadraticCurveTo(x - 25, 460 - height/1.6, x + 15, 460 - height + 140);
            ctx.stroke();

            // –ì–æ–ª–æ–≤–∫–∞
            ctx.fillStyle = "#ff5e5e";
            const headW = width * 1.18;
            const headH = 52;
            ctx.fillRect(x - headW/2, 460 - height - headH + 8, headW, headH);

            // –ë–ª–∏—Å–∫ –Ω–∞ –≥–æ–ª–æ–≤—Ü—ñ
            ctx.fillStyle = "#ff9999";
            ctx.fillRect(x - headW/2 + 8, 460 - height - headH + 15, headW - 22, 14);
        }

        function resetGame() {
            if (confirm("üîÑ –°–ø—Ä–∞–≤–¥—ñ —Å–∫–∏–Ω—É—Ç–∏ –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å –±–æ—Ç–∞?")) {
                localStorage.removeItem("dickGrower2025");
                location.reload();
            }
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        window.onload = function() {
            loadGame();
            updateUI();
            drawPenis();
            updateCooldowns();

            // –ö–Ω–æ–ø–∫–∏
            document.getElementById("btn-pump").onclick = () => performAction("pump");
            document.getElementById("btn-shave").onclick = () => performAction("shave");
            document.getElementById("btn-massage").onclick = () => performAction("massage");
            document.getElementById("btn-exercise").onclick = () => performAction("exercise");

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É
            setInterval(() => {
                updateCooldowns();
            }, 1000);

            // –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 25 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                saveGame();
            }, 25000);

            // –ù–µ–≤–µ–ª–∏–∫–∏–π –ø–æ—Å—Ç—ñ–π–Ω–∏–π —Ä—ñ—Å—Ç –ø–æ–∫–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∞ –≤–∫–ª–∞–¥–∫–∞
            setInterval(() => {
                currentLength += 0.012; // \~0.43 —Å–º –∑–∞ —Ö–≤–∏–ª–∏–Ω—É
                updateUI();
                drawPenis();
                checkWin();
            }, 1700);

            console.log("%c–ì—Ä—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ! –í–∏—Ä–æ—â—É–π –Ω–∞ –º–∞–∫—Å–∏–º—É–º üçÜ", "color:#ff00ff; font-size:16px");
        };
    </script>
</body>
</html>
